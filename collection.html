<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Collection | Zone Vault</title>
   
  <link rel="icon" href="favicon-new.png" type="image/png" />
  <link rel="manifest" href="manifest.json">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* =========================================
       1. VARIABLES & THEME ENGINE (Synced)
       ========================================= */
    :root {
        --bg-color: #050505;
        --text-main: #ffffff;
        --text-muted: #a1a1aa;
        --sidebar-bg: #000000;
        --sidebar-border: 1px solid rgba(255, 255, 255, 0.1);
        --sidebar-hover: #18181b;
        --card-bg: #121212;
        --glass-border: 1px solid rgba(255, 255, 255, 0.08);
        --accent: #ffffff;
        --status-online: #22c55e;
        --admin-color: #ef4444; 
        --youtube-red: #ff0000;
        
        --sidebar-width-collapsed: 64px; 
        --sidebar-width-expanded: 220px; 
        
        --toast-bg: rgba(20, 20, 20, 0.95);
        --toast-border: 1px solid rgba(255, 255, 255, 0.1);
        --toast-text: #ffffff;
    }

    body.light-mode {
        --bg-color: #f3f4f6;
        --text-main: #0f172a;
        --text-muted: #64748b;
        --sidebar-bg: #ffffff;
        --sidebar-border: 1px solid rgba(0,0,0,0.05);
        --sidebar-hover: #f1f5f9;
        --card-bg: #ffffff;
        --glass-border: 1px solid rgba(0, 0, 0, 0.06);
        --accent: #0f172a;
        --toast-bg: rgba(255, 255, 255, 0.95);
        --toast-border: 1px solid rgba(0, 0, 0, 0.05);
        --toast-text: #0f172a;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; outline: none; }

    body { 
        background-color: var(--bg-color);
        color: var(--text-main);
        font-family: 'Outfit', sans-serif;
        min-height: 100vh;
        transition: background-color 0.3s ease, color 0.3s ease;
        overflow-x: hidden;
        padding-left: var(--sidebar-width-collapsed); 
    }

    .fade-in { animation: fadeIn 0.8s ease forwards; opacity: 0; transform: translateY(10px); }
    @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

    /* =========================================
       2. SIDEBAR STYLES (COMPACT)
       ========================================= */
    .sidebar-desktop {
        position: fixed; top: 0; left: 0; height: 100vh;
        width: var(--sidebar-width-collapsed);
        background: var(--sidebar-bg);
        border-right: var(--sidebar-border);
        z-index: 1000;
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        overflow: hidden; 
        display: flex; flex-direction: column;
    }
    .sidebar-desktop:hover { width: var(--sidebar-width-expanded); }

    .sidebar-container {
        display: flex; flex-direction: column; 
        height: 100%; padding: 15px 0; 
        width: 100%;
    }

    .sidebar-brand {
        display: flex; align-items: center; 
        height: 40px; margin-bottom: 25px; 
        width: 100%; white-space: nowrap;
        position: relative; padding-left: 0;
        justify-content: center;
        transition: padding 0.3s ease;
    }
    .sidebar-brand img { width: 24px; height: 24px; object-fit: contain; z-index: 2; }
    .sidebar-brand span {
        position: absolute; left: 50px; 
        opacity: 0; font-weight: 700; font-size: 14px; letter-spacing: 0.5px;
        color: var(--text-main); transition: opacity 0.2s ease; 
        pointer-events: none; text-transform: uppercase;
    }
    .sidebar-desktop:hover .sidebar-brand { justify-content: flex-start; padding-left: 20px; }
    .sidebar-desktop:hover .sidebar-brand span { opacity: 1; pointer-events: auto; }

    .nav-list { list-style: none; display: flex; flex-direction: column; gap: 4px; width: 100%; }
    
    .nav-link {
        display: flex; align-items: center;
        height: 40px; 
        color: var(--text-muted); text-decoration: none;
        transition: all 0.2s ease; 
        font-size: 13px; 
        font-weight: 500;
        width: 100%; justify-content: center; position: relative; cursor: pointer;
    }
    .nav-link i { 
        font-size: 16px; 
        min-width: 20px; text-align: center; transition: color 0.2s; 
    }
    .nav-text { display: none; white-space: nowrap; margin-left: 12px; opacity: 0; transition: opacity 0.2s; }
    
    .sidebar-desktop:hover .nav-link { justify-content: flex-start; padding-left: 22px; }
    .sidebar-desktop:hover .nav-text { display: block; opacity: 1; transition-delay: 0.1s; }

    .nav-link:hover { background: var(--sidebar-hover); color: var(--text-main); }
    .nav-link.active { color: var(--text-main); background: var(--sidebar-hover); }
    .nav-link.active::before {
        content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 3px;
        background: var(--text-main); 
    }

    .sidebar-bottom { margin-top: auto; display: flex; flex-direction: column; gap: 4px; padding-bottom: 10px; }
    .text-danger { color: var(--admin-color) !important; font-weight: 600; }
    .text-danger i { color: var(--admin-color) !important; }

    .sidebar-user {
        display: flex; align-items: center; justify-content: center;
        padding: 10px 0; cursor: pointer; transition: 0.2s; margin-top: 5px; border-top: 1px solid var(--sidebar-border);
    }
    .sidebar-user:hover { background: var(--sidebar-hover); }
    .sidebar-user img { width: 30px; height: 30px; border-radius: 50%; object-fit: cover; border: 1px solid var(--glass-border); }
    .sidebar-user-info { display: none; margin-left: 10px; }
    .sidebar-desktop:hover .sidebar-user { justify-content: flex-start; padding-left: 20px; }
    .sidebar-desktop:hover .sidebar-user-info { display: block; }
    .sidebar-username { font-size: 13px; font-weight: 600; color: var(--text-main); }
    .sidebar-useremail { font-size: 10px; color: var(--text-muted); }

    /* =========================================
       3. NOTIFICATION
       ========================================= */

    /* FLOATING NOTIFICATION (Synced) */
    .hero-notif-btn {
        position: fixed;
        top: 30px;
        right: 40px;
        z-index: 2000;
        width: 40px; height: 40px;
        border-radius: 50%;
        background: rgba(0,0,0,0.5); 
        border: 1px solid rgba(255,255,255,0.2);
        color: #fff;
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.2s;
        font-size: 16px; text-decoration: none;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    body.light-mode .hero-notif-btn { background: rgba(255,255,255,0.5); color: #000; border: 1px solid rgba(0,0,0,0.1); }
    .hero-notif-btn:hover { background: rgba(0,0,0,0.7); transform: translateY(-2px); }
    body.light-mode .hero-notif-btn:hover { background: rgba(255,255,255,0.8); }

    .hero-notif-btn .badge { 
        position: absolute; top: -2px; right: -2px; width: 10px; height: 10px; 
        background: var(--admin-color); border-radius: 50%; 
        border: 2px solid rgba(0,0,0,0.5); display: none; 
    }
    .hero-notif-btn .badge.active { display: block; }

    .notif-modal { 
        position: fixed; 
        top: 80px; right: 40px; 
        width: 320px; max-height: 400px; background: var(--card-bg); 
        border: var(--glass-border); border-radius: 12px; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.5); display: none; 
        flex-direction: column; z-index: 2000; overflow-y: auto; 
        backdrop-filter: blur(10px); 
    }
    .notif-modal.active { display: flex; animation: fadeIn 0.3s ease; }
    .notif-header { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.05); font-weight: 600; font-size: 14px; display: flex; justify-content: space-between; }
    .notif-item { padding: 12px 15px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; gap: 12px; align-items: flex-start; transition: 0.2s; }
    .notif-item:hover { background: var(--sidebar-hover); }
    .notif-icon { width: 30px; height: 30px; border-radius: 50%; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; font-size: 12px; color: var(--text-main); flex-shrink: 0; }
    .notif-content h5 { font-size: 13px; color: var(--text-main); margin-bottom: 2px; }
    .notif-content p { font-size: 11px; color: var(--text-muted); line-height: 1.4; }
    .notif-empty { padding: 20px; text-align: center; color: var(--text-muted); font-size: 12px; }

    /* =========================================
       4. COLLECTION LAYOUT
       ========================================= */
    .main-wrapper { max-width: 1600px; margin: 0 auto; width: 100%; padding-bottom: 40px; padding-top: 40px;}
    
    .page-title {
        font-size: 28px; font-weight: 800; margin-bottom: 20px;
        text-transform: uppercase; letter-spacing: 1px; color: var(--text-main);
    }

    .back-to-cat-btn {
        display: none; align-items: center; gap: 8px;
        background: transparent; color: var(--text-muted); border: none;
        font-size: 14px; font-weight: 600; cursor: pointer;
        margin-bottom: 20px; transition: color 0.2s;
    }
    .back-to-cat-btn:hover { color: var(--text-main); }

    /* CATEGORY GRID */
    .category-menu-grid {
        display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px; padding: 0 40px; animation: fadeIn 0.4s ease;
    }

    .cat-card {
        background: var(--card-bg); border: var(--glass-border); border-radius: 16px;
        overflow: hidden; cursor: pointer; position: relative; aspect-ratio: 16/9;
        transition: transform 0.3s, box-shadow 0.3s;
    }
    .cat-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); border-color: var(--text-main); }
    .cat-card img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; filter: brightness(0.6); }
    .cat-card:hover img { transform: scale(1.05); filter: brightness(0.4); }
    .cat-title-overlay {
        position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px;
        background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
    }
    .cat-title-overlay h3 { margin: 0; font-size: 16px; font-weight: 700; color: white; text-transform: uppercase; letter-spacing: 0.5px; }

    /* IMAGE GALLERIES */
    .collection-section { display: none; animation: fadeIn 0.4s ease; padding: 0 40px; }
    
    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: 15px; }

    .gallery-item {
        position: relative; aspect-ratio: 1/1; border-radius: 12px;
        overflow: hidden; cursor: pointer; border: var(--glass-border);
        background: var(--card-bg); transition: transform 0.2s, border-color 0.2s;
    }
    .gallery-item:hover { transform: scale(1.03); border-color: var(--text-main); z-index: 2; }
    .gallery-item img { width: 100%; height: 100%; object-fit: cover; transition: opacity 0.3s; }

    /* LIGHTBOX */
    .lightbox-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(15px);
        z-index: 20000; display: none; flex-direction: column; align-items: center; justify-content: center;
        opacity: 0; transition: opacity 0.3s ease;
    }
    .lightbox-overlay.active { display: flex; opacity: 1; }
    .lightbox-content-wrapper { flex: 1; display: flex; align-items: center; justify-content: center; width: 100%; overflow: hidden; padding-bottom: 80px; }
    .lightbox-content {
        max-width: 95vw; max-height: 80vh; object-fit: contain;
        box-shadow: 0 20px 60px rgba(0,0,0,0.6); border-radius: 4px;
        transition: transform 0.2s ease-out; transform-origin: center center; cursor: zoom-in;
    }
    .lightbox-content.zoomed { cursor: grab; }
    .lightbox-content.zoomed:active { cursor: grabbing; }

    .lightbox-thumbs {
        position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
        display: flex; gap: 10px; max-width: 90%; overflow-x: auto;
        padding: 10px; background: rgba(255,255,255,0.1); border-radius: 20px;
        backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.1);
        z-index: 20005; scrollbar-width: none; 
    }
    .lightbox-thumbs::-webkit-scrollbar { display: none; }
    .lb-thumb { width: 50px; height: 50px; object-fit: cover; border-radius: 8px; cursor: pointer; opacity: 0.5; transition: 0.2s; border: 2px solid transparent; flex-shrink: 0; }
    .lb-thumb:hover { opacity: 0.8; }
    .lb-thumb.active { opacity: 1; border-color: white; transform: scale(1.1); }

    .lightbox-controls { position: absolute; top: 20px; right: 20px; display: flex; gap: 15px; z-index: 20003; }
    .lightbox-btn { background: rgba(255, 255, 255, 0.15); border: 1px solid rgba(255, 255, 255, 0.2); color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s; backdrop-filter: blur(5px); font-size: 16px; }
    .lightbox-btn:hover { background: white; color: black; transform: scale(1.1); }

    /* TOAST */
    .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: var(--toast-bg); border: var(--toast-border); color: var(--toast-text); padding: 10px 20px; border-radius: 30px; font-size: 13px; font-weight: 500; display: flex; align-items: center; gap: 10px; z-index: 9999; opacity: 0; pointer-events: none; backdrop-filter: blur(10px); transition: all 0.5s ease; }
    .toast.show { bottom: 50px; opacity: 1; }

    /* ACCESS DENIED */
    .access-denied-modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); display: flex; align-items: center; justify-content: center; z-index: 10000; backdrop-filter: blur(10px); }
    .access-card { background: #111; border: 1px solid rgba(255,255,255,0.1); padding: 40px; border-radius: 20px; text-align: center; color: #fff; max-width: 400px; width: 90%; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
    .access-icon-box { width: 60px; height: 60px; background: rgba(239, 68, 68, 0.1); color: #ef4444; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 24px; }
    .access-title { font-size: 22px; font-weight: 700; margin-bottom: 10px; }
    .access-desc { font-size: 14px; color: #888; line-height: 1.5; margin-bottom: 25px; }
    .access-btn { background: #fff; color: #000; border: none; padding: 12px 30px; border-radius: 50px; font-weight: 600; cursor: pointer; transition: 0.2s; }
    .access-btn:hover { transform: scale(1.05); }

    /* =========================================
       5. MOBILE RESPONSIVENESS (LIQUID GLASS)
       ========================================= */
    .mobile-header { 
        display: none; padding: 20px 20px; align-items: flex-start; justify-content: space-between; 
        position: fixed; top: 0; left: 0; width: 100%; z-index: 900; 
        background: transparent; border: none; pointer-events: none; 
    }
    
    .mobile-logo-container { 
        display: flex; align-items: center; gap: 10px; font-weight: 700; color: #ffffff; 
        background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        padding: 6px 16px; height: 40px; border-radius: 30px;
        border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); pointer-events: auto; 
    }
    
    .mobile-logo-img { height: 24px; width: auto; }

    .glass-btn {
        background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2); color: #ffffff; 
        width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        font-size: 18px; cursor: pointer; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); pointer-events: auto; position: relative;
        text-decoration: none;
    }
    .glass-btn:hover { background: rgba(0, 0, 0, 0.7); }
    
    .glass-btn .badge { 
        position: absolute; top: -2px; right: -2px; width: 10px; height: 10px; 
        background: var(--admin-color); border-radius: 50%; 
        border: 2px solid rgba(0,0,0,0.5); display: none; 
    }
    .glass-btn .badge.active { display: block; }

    .mobile-sidebar-menu { 
        position: fixed; top: 0; left: -100%; width: 280px; height: 100%; 
        
        /* --- FORCE DARK MODE FOR THE SIDEBAR ONLY --- */
        --text-main: #ffffff;
        --text-muted: #a1a1aa;
        --sidebar-hover: rgba(255, 255, 255, 0.1);
        --glass-border: 1px solid rgba(255, 255, 255, 0.1);
        
        /* --- LIQUID GLASS EFFECT (Always Dark) --- */
        background: rgba(0, 0, 0, 0.75); 
        backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
        border-right: var(--glass-border);
        box-shadow: 5px 0 30px rgba(0, 0, 0, 0.5);
        
        z-index: 9999; transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding-top: 0; display: flex; flex-direction: column; 
    }
    .mobile-sidebar-menu.open { left: 0; }

    @media (max-width: 900px) {
        .sidebar-desktop { display: none; }
        .mobile-header { display: flex; }
        body { padding-left: 0; }
        
        /* Mobile Desktop notification hides */
        .hero-notif-btn { display: none !important; }
        
        .notif-modal { position: fixed; top: 75px; right: 20px; width: 300px; max-width: 90vw; z-index: 2000; left: auto; transform: none; }
        
        .category-menu-grid, .collection-section, .gallery-grid { padding: 0 20px; }
        .gallery-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .cat-card { aspect-ratio: 4/3; }
        .main-wrapper { padding-top: 80px; }
    }
  </style>
</head>
<body>

<div id="toast" class="toast">
    <i class="fas fa-check-circle" style="color:var(--status-online);"></i>
    <span>Welcome to Collections</span>
</div>

<div class="mobile-header">
    <div class="mobile-logo-container">
         <img src="https://uploads.onecompiler.io/43ddry4jt/43s3sjvch/Zone%20Vault%20logo.png" alt="Zone Vault" class="mobile-logo-img">
         <span>ZONE VAULT</span>
    </div>
    <div style="display: flex; gap: 10px; pointer-events: auto;">
        <a href="javascript:void(0)" class="glass-btn" onclick="toggleNotifModal()">
            <i class="fas fa-bell"></i>
            <span id="notif-badge-mobile" class="badge"></span>
        </a>
        <button class="glass-btn" onclick="toggleMobileSidebar()">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</div>

<div id="mobileSidebar" class="mobile-sidebar-menu">
    <div class="sidebar-container" style="padding: 0 20px; height: 100%; display: flex; flex-direction: column;">
        <div style="display: flex; justify-content: space-between; align-items: center; padding: 20px 20px 0 20px;">
            <div class="sidebar-brand" style="justify-content: flex-start; margin-bottom: 0; height: auto;">
                <img src="https://uploads.onecompiler.io/43ddry4jt/43s3sjvch/Zone%20Vault%20logo.png" alt="Logo" style="width:24px; height:24px;">
                <span style="opacity:1; position:static; margin-left:12px; transform:none; font-size:14px;">ZONE VAULT</span>
            </div>
            <button onclick="toggleMobileSidebar()" style="background:none; border:none; color:var(--text-main); font-size:28px; cursor:pointer;">&times;</button>
        </div>
        <ul class="nav-list" style="padding: 20px 0;">
            <li class="nav-item"> <a href="profile" class="nav-link" style="justify-content: flex-start; padding-left: 20px;"><i class="fas fa-user" style="margin-right:12px;"></i> Profile</a> </li>
            <li class="nav-item"> <a href="home" class="nav-link" style="justify-content: flex-start; padding-left: 20px;"><i class="fas fa-home" style="margin-right:12px;"></i> Home</a> </li>
            <li class="nav-item"> <a href="videos" class="nav-link" style="justify-content: flex-start; padding-left: 20px;"><i class="fas fa-play-circle" style="margin-right:12px;"></i> Videos</a> </li>
            <li class="nav-item"> <a href="collection" class="nav-link active" style="justify-content: flex-start; padding-left: 20px;"><i class="fas fa-images" style="margin-right:12px;"></i> Collection</a> </li>
            <li class="nav-item"> <a href="live" class="nav-link" style="justify-content: flex-start; padding-left: 20px;"><i class="fas fa-broadcast-tower" style="margin-right:12px;"></i> Live</a> </li>
            
        </ul>
        <div class="sidebar-bottom" style="margin-top: auto; padding-bottom: 20px;">
             <div class="nav-link" onclick="toggleTheme()" style="justify-content: flex-start; padding-left: 20px; cursor: pointer;">
                <i class="fas fa-cog" style="margin-right:12px;"></i> 
                <span>Switch Theme</span>
            </div>
            <div class="nav-link text-danger" style="cursor:default; justify-content: flex-start; padding-left: 20px;">
                 <i class="fas fa-shield-alt" style="margin-right:12px;"></i>
                 <span id="status-text-mobile">ADMIN ACCESS</span>
            </div>
            <a href="#" onclick="logout()" class="nav-link text-danger" style="justify-content: flex-start; padding-left: 20px;">
                <i class="fas fa-sign-out-alt" style="margin-right:12px;"></i> Log Out
            </a>
            <div class="sidebar-user" onclick="window.location.href='profile.html'" style="justify-content: flex-start; padding-left: 20px;">
                <img id="mobile-sidebar-pic" src="https://via.placeholder.com/150" alt="Profile">
                <div class="sidebar-user-info" style="display:block; margin-left:10px;">
                    <div id="mobile-sidebar-name" class="sidebar-username">Loading...</div>
                    <div id="mobile-sidebar-email" class="sidebar-useremail">...</div>
                </div>
            </div>
        </div>
    </div>
</div>

<aside class="sidebar-desktop">
    <div class="sidebar-container">
        <div class="sidebar-brand">
            <img src="https://uploads.onecompiler.io/43ddry4jt/43s3sjvch/Zone%20Vault%20logo.png" alt="Logo">
            <span>ZONE VAULT</span>
        </div>
        <ul class="nav-list">
            <li class="nav-item"> <a href="profile" class="nav-link"><i class="fas fa-user"></i> <span class="nav-text">Profile</span></a> </li>
            <li class="nav-item"> <a href="home" class="nav-link"><i class="fas fa-home"></i> <span class="nav-text">Home</span></a> </li>
            <li class="nav-item"> <a href="videos" class="nav-link"><i class="fas fa-play-circle"></i> <span class="nav-text">Videos</span></a> </li>
            <li class="nav-item"> <a href="collection" class="nav-link active"><i class="fas fa-images"></i> <span class="nav-text">Collection</span></a> </li>
            <li class="nav-item"> <a href="live" class="nav-link"><i class="fas fa-broadcast-tower"></i> <span class="nav-text">Live</span></a> </li>
        </ul>
        <div class="sidebar-bottom">
            <div class="nav-link" onclick="toggleTheme()">
                <i class="fas fa-cog"></i> 
                <span class="nav-text">Switch Theme</span>
            </div>
             <div class="nav-link text-danger" style="cursor:default;">
                 <i class="fas fa-shield-alt"></i>
                 <span class="nav-text" id="status-text-pc">ADMIN ACCESS</span>
            </div>
            <a href="#" onclick="logout()" class="nav-link text-danger">
                <i class="fas fa-sign-out-alt"></i> <span class="nav-text">Log Out</span>
            </a>
            <div class="sidebar-user" onclick="window.location.href='profile.html'">
                <img id="sidebar-pic" src="https://via.placeholder.com/150" alt="Profile">
                <div class="sidebar-user-info">
                    <div id="sidebar-name" class="sidebar-username">Loading...</div>
                    <div id="sidebar-email" class="sidebar-useremail">...</div>
                </div>
            </div>
        </div>
    </div>
</aside>

<div class="main-wrapper fade-in">
    
    <div id="notifModal" class="notif-modal">
        <div class="notif-header">
            <span>Notifications</span>
            <i class="fas fa-check-double" style="cursor:pointer;" title="Mark all read"></i>
        </div>
        <div id="notif-list">
            <div class="notif-empty">Loading notifications...</div>
        </div>
    </div>

    <a href="javascript:void(0)" class="hero-notif-btn" onclick="toggleNotifModal()">
        <i class="fas fa-bell"></i>
        <span id="notif-badge" class="badge"></span>
    </a>

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 0 40px;">
        <h1 class="page-title" id="page-heading">My Collection</h1>
        <button id="backToCatBtn" class="back-to-cat-btn" onclick="showMenu()">
            <i class="fas fa-arrow-left"></i> Back to Collections
        </button>
    </div>

    <div id="category-menu" class="category-menu-grid">
        </div>

    <div id="galleries-container">
        <div class="collection-section" id="section-7"><div class="gallery-grid" id="grid-category-7"></div></div>
        <div class="collection-section" id="section-6"><div class="gallery-grid" id="grid-category-6"></div></div>
        <div class="collection-section" id="section-5"><div class="gallery-grid" id="grid-category-5"></div></div>
        <div class="collection-section" id="section-4"><div class="gallery-grid" id="grid-category-4"></div></div>
        <div class="collection-section" id="section-3"><div class="gallery-grid" id="grid-category-3"></div></div>
        <div class="collection-section" id="section-2"><div class="gallery-grid" id="grid-category-2"></div></div>
        <div class="collection-section" id="section-1"><div class="gallery-grid" id="grid-category-1"></div></div>
    </div>
</div>

<div id="lightbox" class="lightbox-overlay">
    <div class="lightbox-controls">
        <div class="lightbox-btn" onclick="downloadImage()">
            <i class="fas fa-download"></i>
        </div>
        <div class="lightbox-btn" onclick="closeLightbox()">
            <i class="fas fa-times"></i>
        </div>
    </div>
    
    <div class="lightbox-content-wrapper">
        <img id="lightbox-img" src="" class="lightbox-content">
    </div>

    <div id="lightbox-thumbs" class="lightbox-thumbs">
        </div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

<script>
    // --- FIREBASE INIT ---
    const firebaseConfig = { apiKey: "AIzaSyAs2S6iRhnYhmqNuF0QCCYu5NuzxHxIRv0", authDomain: "tvnstream-b4497.firebaseapp.com", databaseURL: "https://tvnstream-b4497-default-rtdb.firebaseio.com", projectId: "tvnstream-b4497", storageBucket: "tvnstream-b4497.appspot.com", messagingSenderId: "308384754214", appId: "1:308384754214:web:2938e76cd29b288f75d4e7" };
    if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    // --- TOAST ---
    window.addEventListener('load', () => {
        setTimeout(() => {
            document.getElementById('toast').classList.add('show');
            setTimeout(() => { document.getElementById('toast').classList.remove('show'); }, 4000);
        }, 1000);
    });

    // --- NOTIFICATIONS ---
    const notifList = document.getElementById('notif-list');
    let latestNotifTimestamp = 0;

    db.ref('notifications').limitToLast(10).on('value', snapshot => {
        notifList.innerHTML = ''; 
        if (snapshot.exists()) {
            const data = snapshot.val();
            const notifs = Object.values(data).reverse(); 
            
            notifs.forEach(n => {
                const item = document.createElement('div');
                item.className = 'notif-item';
                item.innerHTML = `<div class="notif-icon"><i class="fas ${n.icon || 'fa-bell'}"></i></div><div class="notif-content"><h5>${n.title}</h5><p>${n.message}</p></div>`;
                notifList.appendChild(item);
                if(n.timestamp > latestNotifTimestamp) latestNotifTimestamp = n.timestamp;
            });

            const lastRead = localStorage.getItem('lastReadNotif') || 0;
            const badgeDesktop = document.getElementById('notif-badge');
            const badgeMobile = document.getElementById('notif-badge-mobile');
            
            if (latestNotifTimestamp > lastRead) {
                if(badgeDesktop) badgeDesktop.classList.add('active');
                if(badgeMobile) badgeMobile.classList.add('active');
            } else {
                if(badgeDesktop) badgeDesktop.classList.remove('active');
                if(badgeMobile) badgeMobile.classList.remove('active');
            }
        } else {
            notifList.innerHTML = '<div class="notif-empty">No new notifications</div>';
        }
    });

    window.toggleNotifModal = function() {
        const modal = document.getElementById('notifModal');
        modal.classList.toggle('active');
        if (modal.classList.contains('active')) {
            const badgeDesktop = document.getElementById('notif-badge');
            const badgeMobile = document.getElementById('notif-badge-mobile');
            if(badgeDesktop) badgeDesktop.classList.remove('active');
            if(badgeMobile) badgeMobile.classList.remove('active');
            localStorage.setItem('lastReadNotif', latestNotifTimestamp);
        }
    }

    // --- THEME LOGIC ---
    function initTheme() {
        const savedTheme = localStorage.getItem('zoneTheme') || 'dark';
        if (savedTheme === 'light') document.body.classList.add('light-mode');
    }
    
    window.toggleTheme = function() {
        document.body.classList.toggle('light-mode');
        const isLight = document.body.classList.contains('light-mode');
        localStorage.setItem('zoneTheme', isLight ? 'light' : 'dark');
    }
    initTheme();

    // --- UI LOGIC ---
    window.toggleMobileSidebar = function() {
        document.getElementById('mobileSidebar').classList.toggle('open');
    }

    // --- AUTH LOGIC ---
    auth.onAuthStateChanged(user => {
        if(user) {
            db.ref('users/' + user.uid).on('value', snap => {
                const data = snap.val() || {};
                const name = data.name || "Member";
                const pic = data.profilePicture || "https://via.placeholder.com/150";
                const role = (data.role || "member").toLowerCase();
                const isAdm = role === 'admin';

                document.getElementById("sidebar-name").innerText = name;
                document.getElementById("sidebar-email").innerText = user.email;
                document.getElementById("sidebar-pic").src = pic;
                
                document.getElementById("mobile-sidebar-name").innerText = name;
                document.getElementById("mobile-sidebar-email").innerText = user.email;
                document.getElementById("mobile-sidebar-pic").src = pic;

                const statusTxt = isAdm ? "ADMIN ACCESS" : "MEMBER ACCESS";
                if(document.getElementById("status-text-pc")) document.getElementById("status-text-pc").innerText = statusTxt;
                if(document.getElementById("status-text-mobile")) document.getElementById("status-text-mobile").innerText = statusTxt;
                
                if (isAdm) { sessionStorage.setItem('isAdmin', 'true'); sessionStorage.setItem('internalAccess', 'true'); }
            });
        }
    });

    window.logout = function() {
        if(confirm("Are you sure you want to log out?")) {
            auth.signOut().then(() => window.location.href = "index.html");
        }
    }

    // --- COLLECTION DATA & LOGIC ---
    const collectionData = [
                                {
            category: "CXM [DOUBLE UP] LIVE PARTY in INCHEON ALL DAY PASS SPECIAL GIFTS",
            targetId: "grid-category-7",
            sectionId: "section-7",
            images: [
                { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771169310/photo_2026-02-15_23-28-20_rvbfv2.jpg", link: "https://drive.usercontent.google.com/download?id=1lPYWBjmosBZrMQXdfYVlOsBZwCm5WRdn&export=download&authuser=0&confirm=t&uuid=da2c3799-3836-4160-8af5-012b96aa12d1&at=APcXIO0B4ugMlsmVJ88_DGm8JOYZ:1771169599961" },
                { src: "https://res.cloudinary.com/dp6x9xmku/image/upload/v1771169288/Screenshot_2026-02-15_232110_fwjqhu.png", link: "https://drive.usercontent.google.com/download?id=1JhRIFNVGpTUvvxV71HrcA-YeR7mNY5wy&export=download&authuser=0&confirm=t&uuid=42450925-b120-4789-b3bc-9f04a628bb10&at=APcXIO3WpcktBvTMKM6OwF69wrYa:1771169601972" },
            ]
        },
                
                {
            category: "SEVENTEEN WORLD TOUR [NEW_] IN JAPAN Fukuoka Show SPECIAL GIFTS",
            targetId: "grid-category-6",
            sectionId: "section-6",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Group.jpg", link: "https://drive.usercontent.google.com/download?id=1O1biKpTaAR06Knc6fZeHGQ3DFIbOaPma&export=download&authuser=0&confirm=t&uuid=f4924412-e97a-423a-b2e4-f2f380df1f4c&at=APcXIO2ZHEEJm5Y4VJ3m3_Pz6APS:1769094909376" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Seungcheol.jpg", link: "https://drive.usercontent.google.com/download?id=1ptazDuRbpG5RKZHCc4nWUySKJD817Mps&export=download&authuser=0&confirm=t&uuid=e47b6f12-6473-4cc6-845b-6d6ca99704e4&at=APcXIO2zlcYcGdLKAvOrjTc8Lfxt:1769094921112" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Joshua.jpg", link: "hhttps://drive.usercontent.google.com/download?id=1MUaCtFynQo22Hjup5WKihDXdN3YI1A_W&export=download&authuser=0&confirm=t&uuid=5eea838f-18bb-48ad-bf0a-497f2b26c56f&at=APcXIO0WNLlnXz4dufRuFnjX1RTH:1769094916274" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Jun.jpg", link: "https://drive.usercontent.google.com/download?id=1ZpMdvcL_kW9yIZPxSyf0CyWqSbVW8RGr&export=download&authuser=0&confirm=t&uuid=44d48ed6-6dfc-4822-89fb-f9a43c69818f&at=APcXIO036I4zxssXDEuzT0GsVkVg:1769094918050" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Dk.jpg", link: "https://drive.usercontent.google.com/download?id=1sg00aVlHbbyf2VEl-HTGgPgNCqeDtGvu&export=download&authuser=0&confirm=t&uuid=a2438cf9-1d71-460d-9658-88a4df258158&at=APcXIO3CNqZIIUlkH4ImvkD08MKo:1769094908312" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Mingyu.jpg", link: "https://drive.usercontent.google.com/download?id=1-6MiuIjgQHmdl02FPumQ9LaAlrgczBtg&export=download&authuser=0&confirm=t&uuid=0a3bef39-ba23-4844-8f62-48b3b64c73b9&at=APcXIO23CarTuOycdpWMZgWfs8YV:1769094919533" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20The%208.jpg", link: "https://drive.usercontent.google.com/download?id=11RKZg_V9yq6WwmPD6yd2lqjQPUD7AJ9r&export=download&authuser=0&confirm=t&uuid=6febd2d1-8327-4329-8eb7-1c0e0871c548&at=APcXIO2fHBSxf6gUK0Yt5_bgf5np:1769094929108" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Seungkwan.jpg", link: "https://drive.usercontent.google.com/download?id=1wno7z07nF2tCqnrFvZFFgGD6_45OKm3s&export=download&authuser=0&confirm=t&uuid=137aa381-226c-4a0e-8f5e-3d268cf56fae&at=APcXIO3hQ2GKl_c80L0F4Dpm67gg:1769094927205" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Vernon.jpg", link: "https://drive.usercontent.com/download?id=1qu3r9SbwpgSuyMY4DE8OfUe369o7SfDH&export=download&authuser=0&confirm=t&uuid=de6419f6-b7ff-4358-aa93-1c535d389fd4&at=APcXIO1m8zK6OEtZy1OEliBBoJlm:1769094930552" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_fukuokanewtour/%5BFUKUOKA%20SHOW%5D%20Dino.jpg", link: "https://drive.usercontent.google.com/download?id=1ut4lsQS_kyycjlMrOednIPyRtxIysVV7&export=download&authuser=0&confirm=t&uuid=be4fd1cf-bf88-478c-a3e7-97a8a37b6ff4&at=APcXIO1Of-JiYBt_IYCZ3Q6LxBsf:1769094906795" }
            ]
        },
        {
            category: "SEVENTEEN WORLD TOUR [NEW_] IN JAPAN Osaka Show SPECIAL GIFTS",
            targetId: "grid-category-4",
            sectionId: "section-4",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Group.jpg", link: "https://drive.usercontent.google.com/download?id=1UbcDnJLiL8e-cIwTxGAE_-SIZ5zFIfF-&export=download&authuser=0&confirm=t&uuid=53524a0b-5b67-46ed-a324-979952146cf3&at=ANTm3cytZsntc4VWCCXqhcxzTfrJ:1767971765844" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Seungcheol.jpg", link: "https://drive.usercontent.google.com/download?id=1kxZselcw1GSKO1iEpGlxo6eP_ttXkXEX&export=download&authuser=0&confirm=t&uuid=48fcd21a-6448-423b-8541-a9420a5b08a7&at=ANTm3czJvhLBvkorZs-kewpWvMVD:1767971775455" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Joshua.jpg", link: "https://drive.usercontent.google.com/download?id=1yWBVW6SfSS2GKZauK2BVofqvehPvbJiA&export=download&authuser=0&confirm=t&uuid=a9eabbac-e861-4e3d-8f4a-6d6ef7fa86d6&at=ANTm3czyrkprWirUsb-Thf5OJNIt:1767971768047" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Jun.jpg", link: "https://drive.usercontent.google.com/download?id=1uLXPH1WaU1D3yt1aOvYPjnU--hT7xsTC&export=download&authuser=0&confirm=t&uuid=1438abe2-8e58-49d2-b715-bb09d97c4e3e&at=ANTm3cwypqZQIEBGshuCnIjbJ8Zv:1767971770570" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Dk.jpg", link: "https://drive.usercontent.google.com/download?id=1Be4t58tClizM4ZaWzKHpzTJHNzMlPlQM&export=download&authuser=0&confirm=t&uuid=e68855b7-0691-4a7c-be84-5095f6944b8d&at=ANTm3cxtO3gGvjzVXKQRAc0Sz1JN:1767971762247" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Mingyu.jpg", link: "https://drive.usercontent.google.com/download?id=1hI1y21a7Ddi0i7qEUEUfYp4zcL_SLLnv&export=download&authuser=0&confirm=t&uuid=c29b1ff1-7992-455f-98f4-74d043bbc565&at=ANTm3cwJFolO2-1e_JSSCiPHhxML:1767971772969" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20The%208.jpg", link: "https://drive.usercontent.google.com/download?id=1wmWvboi1NTOT2-rnuU4BJ3xJm-s-bLkF&export=download&authuser=0&confirm=t&uuid=e7219b0c-bf96-4a7e-9c1d-b21bf78db17a&at=ANTm3cyBvcuO6zTMfoV-UCTVaxrN:1767971780935" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Seungkwan.jpg", link: "https://drive.usercontent.google.com/download?id=1QmHVfdQqX-JkkEB3jXdTQObX_buhpdHX&export=download&authuser=0&confirm=t&uuid=7dd85f00-76a4-4e32-af1b-dd4f4c4325a9&at=ANTm3czK-DFb9TJvCSNsksDKlIyN:1767971777805" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Vernon.jpg", link: "https://drive.usercontent.google.com/download?id=1aquFXS5KxwP722xfxJnIOCU47pDjpIne&export=download&authuser=0&confirm=t&uuid=4b0ebd93-2840-4605-97c3-2f8591501a67&at=ANTm3cyCbgIymrOthAtMZfo8lERz:1767971783863" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_osakanewtour/%5BOSAKA%20TOUR%5D%20Dino.jpg", link: "https://drive.usercontent.google.com/download?id=1Pa6qk_NTvbT3ssSR--vqCcvKyuHkMmOD&export=download&authuser=0&confirm=t&uuid=04d75216-8394-4ce3-a605-9e857bfa1f4d&at=ANTm3cyNGz0lT2zamj7GLYVcTT0a:1767971761060" }
            ]
        },
        {
            category: "SEVENTEEN WORLD TOUR [NEW_] IN INCHEON SPECIAL GIFTS",
            targetId: "grid-category-5",
            sectionId: "section-5",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20SeungcheoL.png", link: "https://drive.usercontent.google.com/download?id=1OG3WFMM3_wVHYgwAKs8g-vD6JOMjePv4&export=download&authuser=0&confirm=t&uuid=dc89feac-1ef2-4343-87b7-0e27f2036341&at=ANTm3czNLcDJmIgv5k61XycCyQz0:1767970217853" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Joshua.png", link: "https://drive.usercontent.google.com/download?id=1uRA1BOzoyWB0HuUB0vY53YtNALAF2RuE&export=download&authuser=0&confirm=t&uuid=b64e117e-e3dd-4d83-b82d-cd3d75f7e951&at=ANTm3cyntlyrAHU6NPUDGRoJb5kY:1767970209018" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Jun.png", link: "https://drive.usercontent.google.com/download?id=12w_pB2MSM6b_hr9WkxLv0QkqUZyJgz0E&export=download&authuser=0&confirm=t&uuid=b33b41d1-959a-4f67-82ef-55ea34b07361&at=ANTm3czkvYnaYBvdFmO0teHOgAMi:1767970211967" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Dk.png", link: "https://drive.usercontent.google.com/download?id=1alWIYhSIWVyLjZacZToQ9gC2GlX9S1q3&export=download&authuser=0&confirm=t&uuid=0e9d902f-896a-408d-a4a0-f4b94befc776&at=ANTm3cwLwhQpQ7enjduRrCK0kINT:1767970205350" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Mingyu.png", link: "https://drive.usercontent.google.com/download?id=1Cwix_pCLX0WQZhYageQFiUPkCrt1UQFs&export=download&authuser=0&confirm=t&uuid=78c5528d-8639-486d-bcc0-722dc258d22d&at=ANTm3cxtaroDqjVOUU0br5OvRRzT:1767970214673" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20The8.png", link: "https://drive.usercontent.google.com/download?id=1vJpEknyO9qW6LgNJ2_JB3oX3QYtXD0jF&export=download&authuser=0&confirm=t&uuid=be9cfcbf-cb75-44d5-8e1a-7d7b463ef028&at=ANTm3cxXtQYytylv1m4PsTVg1axQ:1767970223797" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Seungkwan.png", link: "https://drive.usercontent.google.com/download?id=15ERl4v3WbiAZNM_GCOVzakIZOkTcxSRR&export=download&authuser=0&confirm=t&uuid=c637a438-12c3-4a40-be14-f590e7bd7bb0&at=ANTm3cwMX5OAGgu8QGcUWot8hT5w:1767970220868" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Vernon.png", link: "https://drive.usercontent.google.com/download?id=1o_UJBprWKYfPj8m0J3Sm6Sy0jFH4MsR6&export=download&authuser=0&confirm=t&uuid=a178234d-dcd4-4cd7-beab-c92efca8c31f&at=ANTm3cxC8eXGcXT_FqN4V27NJrcl:1767970226159" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_newtour/%5BNEW%20TOUR%5D%20Spacial%20Gifts%20%20Dino.png", link: "https://drive.usercontent.google.com/download?id=19y3lzbjIkZ0BaacQIyLmwl3cvleMAKvc&export=download&authuser=0&confirm=t&uuid=a90063c7-6cdf-47e1-89ab-029544640e0b&at=ANTm3cxqM2fvcRxhZ_BqCGy5RGMz:1767970202844" },
            ]
        },
        {
            category: "HOSHI X WOOZI FAN CONCERT [WARNING] SEOUL SPECIAL GIFTS",
            targetId: "grid-category-3",
            sectionId: "section-3",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_warninginseoul/%5BWARNING%5D%20Spacial%20Gifts%20Hoshi.png", link: "https://drive.usercontent.google.com/download?id=1dcb0l3cFl5d0tTQgP-oZn7hKE1jfPKON&export=download&authuser=0&confirm=t&uuid=75145aa6-d9ca-4f66-9570-1308cbdf9a21&at=ANTm3cyprTA8Ce71_NvpYu--hvk3:1767969455908" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_warninginseoul/%5BWARNING%5D%20Spacial%20Gifts%20Woozi.png", link: "https://drive.usercontent.google.com/download?id=186cwfeQx_WonPPm6yEujEJ16ZYWtuBUl&export=download&authuser=0&confirm=t&uuid=22904790-e7b4-4137-8db8-b04b93660b78&at=ANTm3czrXnS5A6O920n2bkZHyILd:1767969458563" },
            ]
        },
        {
            category: "SEVENTEEN 2025 JAPAN FANMEETING 'HOLIDAY' SPECIAL GIFTS",
            targetId: "grid-category-2",
            sectionId: "section-2",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20%20Groups.jpg", link: "https://drive.usercontent.google.com/download?id=1kWlj5laH-rDTlFs1UTAnV2Duu02EMjj3&export=download&authuser=0&confirm=t&uuid=6170db2a-d9a8-4508-81ce-60592fad7ed7&at=ANTm3czsQm0fMyueHrT0C8yzSNd7:1767965912563" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Seungcheol.jpg", link: "https://drive.usercontent.google.com/download?id=1g6CTFYc55mm3Q4LXEAn-1MNLTmVfjVZQ&export=download&authuser=0&confirm=t&uuid=05d957b1-3b7a-4a22-9bbd-1bab25f23760&at=ANTm3cya4vFWtk-34e6DWVmPY5zf:1767965891156" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Joshua.jpg", link: "https://drive.usercontent.google.com/download?id=1Z8CTHozvvovBwQFeOFsm0eYbRsQumU2a&export=download&authuser=0&confirm=t&uuid=17e6594d-e170-4bfb-aae8-b32455bfbc2b&at=ANTm3cz1lnResG_pVq_vIW_wxd98:1767965899601" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Jun.jpg", link: "https://drive.usercontent.google.com/download?id=1fsv1u1RJi2Vi8Q_cBgf9wtfdWfl-l4Ue&export=download&authuser=0&confirm=t&uuid=148ba2fa-0faf-4014-ac53-aade1e46a3bb&at=ANTm3cytVyrSuVTXF38XdZcK5jBD:1767965897623" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Hoshi.jpg", link: "https://drive.usercontent.google.com/download?id=15Hy6AI1_cy4gTCIBGdtlV8fIaEkHz0kj&export=download&authuser=0&confirm=t&uuid=49d04a7e-1494-42d7-bf13-7073142b3158&at=ANTm3cxixcdU6Ysh-hk2F7lw3hmD:1767965902141" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Woozi.jpg", link: "https://drive.usercontent.google.com/download?id=1HBPtCB5RHqXHBjuJj2Q-NlEjjx2i2bdQ&export=download&authuser=0&confirm=t&uuid=464a5731-7f35-4afe-bc68-9bf5e0acc2cb&at=ANTm3cwgd_XaxPI2t4pOKJ57wcfQ:1767965880980" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Dk.jpg", link: "https://drive.usercontent.google.com/download?id=1MrA7jvdbqJngJoB0vKHE2J79skLU2ze8&export=download&authuser=0&confirm=t&uuid=21a76af9-6420-4a1d-ba3e-fc7c8078e048&at=ANTm3czVE1C9hPRs96HEDXSwApyX:1767965906068" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Mingyu.jpg", link: "https://drive.usercontent.google.com/download?id=1vt76WL85I-Ugebuwrap2V4Hp_E29Fa0d&export=download&authuser=0&confirm=t&uuid=e5565d46-2791-4c58-be92-92c1284b0bf8&at=ANTm3czXPy2cpZ-kiNuotgJc_Qcq:1767965893374" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20The8.jpg", link: "https://drive.usercontent.google.com/download?id=1MGu26ixI2dA8qq7q6NmgU3FrhGQmtza4&export=download&authuser=0&confirm=t&uuid=cb45a56a-176f-47da-956c-4da8e66f767c&at=ANTm3cyuq1QeI9mBBOahw0SmGJpH:1767965885745" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Seungkwan.jpg", link: "https://drive.usercontent.google.com/download?id=1qZvY6dvZIEaC6tB7Crnag20j0wgMhuZ2&export=download&authuser=0&confirm=t&uuid=3ebf127e-6a58-41bb-b197-1e108d0b9380&at=ANTm3cyr2SWYl6sO-BihqiCOQ9Cm:1767965888067" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Vernon.jpg", link: "https://drive.usercontent.google.com/download?id=1qZvY6dvZIEaC6tB7Crnag20j0wgMhuZ2&export=download&authuser=0&confirm=t&uuid=3ebf127e-6a58-41bb-b197-1e108d0b9380&at=ANTm3cyr2SWYl6sO-BihqiCOQ9Cm:1767965888067" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_holiday/%5BHOLIDAY%5D%20Spacial%20Gifts%20Dino.jpg", link: "https://drive.usercontent.google.com/download?id=1zEsO9LymkEY7j8XEJs-ELQ73up8e_B9U&export=download&authuser=0&confirm=t&uuid=b86359b7-83fc-4b80-87a8-6b1abd642652&at=ANTm3cyuGPTEC4BrznFcLHlFrlDS:1767965911829" },
            ]
        },
        {
            category: "SEVENTEEN 'RIGHT HERE' WORLD TOUR SPECIAL GIFTS",
            targetId: "grid-category-1",
            sectionId: "section-1",
            images: [
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Seungcheol.jpg", link: "https://drive.usercontent.google.com/download?id=1cafIg2xS5BTxe-X-RpCMjmGN7rWDfle4&export=download&authuser=0&confirm=t&uuid=3cdd8686-5c3d-48bc-9bab-9351633887df&at=ANTm3cxbXPxcqsHdp-AtlBjDOCId:1767967583447" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Jeonghan.jpg", link: "https://drive.usercontent.google.com/download?id=12Q2HbMeoePOw8fBFKcFBbU3erUwcTSzS&export=download&authuser=0&confirm=t&uuid=b54ad855-e3be-42c6-a8cc-99bfb8947dac&at=ANTm3cyyLAd0ewebS6VKkdsev734:1767967576796" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Joshua.jpg", link: "https://drive.usercontent.google.com/download?id=12Q2HbMeoePOw8fBFKcFBbU3erUwcTSzS&export=download&authuser=0&confirm=t&uuid=b54ad855-e3be-42c6-a8cc-99bfb8947dac&at=ANTm3cyyLAd0ewebS6VKkdsev734:1767967576796" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Jun.jpg", link: "https://drive.usercontent.google.com/download?id=1Ktd_WWI9ZPS08LJrPns17N_wlAn9avuz&export=download&authuser=0&confirm=t&uuid=699a36e8-75b3-4183-a230-b1b3ede9cd13&at=ANTm3cyDmJZ9m0H1uaC3s-XoHvjF:1767967578929" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Hoshi.jpg", link: "https://drive.usercontent.google.com/download?id=1OW_XZ3zLmATgPPdv__i-N736USusb0l9&export=download&authuser=0&confirm=t&uuid=77be9613-5e7d-4924-b3eb-09bada7deb5f&at=ANTm3cy6EbE8HfofbnV7Oa5X9oj-:1767967570974" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Wonwoo.jpg", link: "https://drive.usercontent.google.com/download?id=1oqsOOq1rJcqOcOMQNZD9VWo8zHMO3MWl&export=download&authuser=0&confirm=t&uuid=93aec905-c817-4e2b-be85-8942cd65bece&at=ANTm3cwefVCM_GXeaxs1VmlLcPxq:1767967596140" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Woozi.jpg", link: "https://drive.usercontent.google.com/download?id=1ACNHEjlJ-mnwL4_XrcttEdXOtXYNL4zU&export=download&authuser=0&confirm=t&uuid=a4de3a19-4fc8-440f-b57d-3f2cf254c434&at=ANTm3cyBv9z_CWS8ItRVg51056cO:1767967598524" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Dk.jpg", link: "https://drive.usercontent.com/download?id=1aViomKL-L9TBHAF790cR8WKwp2U84X84&export=download&authuser=0&confirm=t&uuid=d15855fb-0c25-4104-bb74-04b03af438d6&at=ANTm3cxyQITX18fwVawubqibT6sW:1767967568215" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Mingyu.jpg", link: "https://drive.usercontent.google.com/download?id=1Z8HyNNZSCHkabLCUcuMk2XyenAeDnKov&export=download&authuser=0&confirm=t&uuid=7bae6ea7-4f1d-406b-b1e4-e51c5e9d20e4&at=ANTm3cyR6nfKSbSqoIPCqN2jzhrb:1767967581299" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20The8.jpg", link: "https://drive.usercontent.google.com/download?id=1RPkt4Bo_vlBdmUFELMu8N96cPAzNe2N5&export=download&authuser=0&confirm=t&uuid=836c6599-5207-4c1a-924c-e682f2d72c9c&at=ANTm3czL-Z6AdAb831A8REVeHdZL:1767967588251" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Seungkwan.jpg", link: "https://drive.usercontent.google.com/download?id=1CqhPty57YtOusbJifQdpR9O02ZOjWhBn&export=download&authuser=0&confirm=t&uuid=6c48631f-7019-441b-b7d7-9ea3156b0a6e&at=ANTm3cyEZaiGEpHpzhbmeqzDjGbA:1767967585676" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Vernon.jpg", link: "https://drive.usercontent.google.com/download?id=1qxgZrZFSpI1oF_36DPj2TIv6sGKcZuSp&export=download&authuser=0&confirm=t&uuid=4c02aace-49b6-44a0-a1b5-514a6700703f&at=ANTm3cwLna3e2tqqAiAaM60ltcQW:1767967591679" },
                { src: "https://raw.githubusercontent.com/svtzoneph/gallery/refs/heads/main/images/special_gift_righthere/%5BRIGHT%20HERE%5D%20Spacial%20Gifts%20Dino.jpg", link: "https://drive.usercontent.google.com/download?id=1lamZpDuEuknjo4KIgYqrfMrWtMjX1Qk9&export=download&authuser=0&confirm=t&uuid=9b2b9b5f-f67e-46f2-bcb6-976a1b0dc465&at=ANTm3cw_VzIPprjLrjAzvNRcOGPD:1767967565185" }
            ]
        }
    ];

    // Flatten for nav (store objects)
    let allItems = [];
    collectionData.forEach(section => {
        allItems = allItems.concat(section.images);
    });

    // --- RENDER MENU ---
    function renderMenu() {
        const menuContainer = document.getElementById('category-menu');
        menuContainer.innerHTML = '';

        collectionData.forEach(cat => {
            const card = document.createElement('div');
            card.className = 'cat-card';
            card.onclick = () => showCategory(cat.targetId, cat.category);

            const img = document.createElement('img');
            img.src = cat.images[0].src;
            img.loading = "lazy";

            const overlay = document.createElement('div');
            overlay.className = 'cat-title-overlay';
            overlay.innerHTML = `<h3>${cat.category}</h3>`;

            card.appendChild(img);
            card.appendChild(overlay);
            menuContainer.appendChild(card);
        });
    }

    // --- RENDER GRIDS ---
    function renderCollection() {
        let globalIndex = 0;
        collectionData.forEach(section => {
            const container = document.getElementById(section.targetId);
            if(container) {
                container.innerHTML = "";
                section.images.forEach(item => {
                    const div = document.createElement("div");
                    div.className = "gallery-item";
                    
                    // EXTRACT NAME FOR SEARCH (alt text)
                    const filename = decodeURIComponent(item.src).split('/').pop().replace(/\.(jpg|png|jpeg)/i, '');
                    
                    div.innerHTML = `<img src="${item.src}" alt="${filename}" loading="lazy">`;
                    const currentIndex = globalIndex;
                    div.onclick = () => openLightbox(currentIndex);
                    container.appendChild(div);
                    globalIndex++;
                });
            }
        });
        renderThumbnails(); 
        renderMenu(); 
    }

    // --- NAVIGATION LOGIC ---
    function showCategory(targetId, title) {
        document.getElementById('category-menu').style.display = 'none';
        document.querySelectorAll('.collection-section').forEach(sec => sec.style.display = 'none');
        
        const section = document.querySelector(`.collection-section:has(#${targetId})`) || document.getElementById(targetId).parentElement;
        if(section) section.style.display = 'block';

        document.getElementById('page-heading').innerText = title;
        document.getElementById('backToCatBtn').style.display = 'inline-flex';
        window.scrollTo(0,0);
    }

    function showMenu() {
        document.getElementById('category-menu').style.display = 'grid';
        document.querySelectorAll('.collection-section').forEach(sec => sec.style.display = 'none');
        document.getElementById('page-heading').innerText = 'My Collection';
        document.getElementById('backToCatBtn').style.display = 'none';
    }

    // --- THUMBNAILS ---
    function renderThumbnails() {
        const thumbContainer = document.getElementById('lightbox-thumbs');
        thumbContainer.innerHTML = '';
        allItems.forEach((item, index) => {
            const img = document.createElement('img');
            img.src = item.src;
            img.className = 'lb-thumb';
            img.id = `thumb-${index}`;
            img.onclick = () => openLightbox(index);
            thumbContainer.appendChild(img);
        });
    }

    function highlightThumbnail(index) {
        document.querySelectorAll('.lb-thumb').forEach(t => t.classList.remove('active'));
        const activeThumb = document.getElementById(`thumb-${index}`);
        if(activeThumb) {
            activeThumb.classList.add('active');
            activeThumb.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
        }
    }

    // --- LIGHTBOX ---
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    let currentImageIndex = 0;
    
    let scale = 1;
    const MIN_SCALE = 1;
    const MAX_SCALE = 4;

    window.openLightbox = function(index) {
        currentImageIndex = index;
        resetZoom(); 
        updateLightboxImage();
        lightbox.classList.add("active");
        document.body.style.overflow = "hidden"; 
        document.addEventListener('keydown', handleKeyDown);
    }

    window.closeLightbox = function() {
        lightbox.classList.remove("active");
        document.body.style.overflow = "auto";
        document.removeEventListener('keydown', handleKeyDown);
        resetZoom();
    }

    function resetZoom() {
        scale = 1;
        applyTransform();
    }

    function applyTransform() {
        lightboxImg.style.transform = `scale(${scale})`;
        if (scale > 1) lightboxImg.classList.add('zoomed');
        else lightboxImg.classList.remove('zoomed');
    }

    lightbox.addEventListener('wheel', function(e) {
        e.preventDefault();
        const delta = e.deltaY > 0 ? -0.2 : 0.2;
        scale = Math.min(Math.max(MIN_SCALE, scale + delta), MAX_SCALE);
        applyTransform();
    }, { passive: false });

    // --- MOBILE PINCH ---
    let initialDist = 0;
    let touchStartX = 0;
    let touchEndX = 0;
    const minSwipeDistance = 50; 

    lightbox.addEventListener('touchstart', function(e) {
        if (e.touches.length === 2) {
            initialDist = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
        } else {
            touchStartX = e.changedTouches[0].screenX;
        }
    }, { passive: true });

    lightbox.addEventListener('touchmove', function(e) {
        if (e.touches.length === 2) {
            e.preventDefault(); 
            const dist = Math.hypot(e.touches[0].pageX - e.touches[1].pageX, e.touches[0].pageY - e.touches[1].pageY);
            const delta = dist / initialDist;
            scale = Math.min(Math.max(MIN_SCALE, scale * delta), MAX_SCALE);
            applyTransform();
            initialDist = dist;
        }
    }, { passive: false });

    lightbox.addEventListener('touchend', function(e) {
        if (e.touches.length < 2 && scale === 1) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        }
    }, { passive: true });

    function handleSwipe() {
        const swipeDistance = touchEndX - touchStartX;
        if (Math.abs(swipeDistance) > minSwipeDistance) {
            if (swipeDistance > 0) prevImage();
            else nextImage();
        }
    }

    window.downloadImage = function() {
        const item = allItems[currentImageIndex];
        if (item && item.link && item.link.startsWith("http")) {
            window.open(item.link, '_blank');
        } else {
            const link = document.createElement('a');
            link.href = item.src;
            link.download = "ZoneVault_Image.jpg";
            link.target = "_blank";
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    }

    function updateLightboxImage() {
        if (currentImageIndex < 0) currentImageIndex = allItems.length - 1;
        else if (currentImageIndex >= allItems.length) currentImageIndex = 0;
        resetZoom(); 
        const item = allItems[currentImageIndex];
        lightboxImg.src = item.src;
        highlightThumbnail(currentImageIndex);
    }

    function prevImage() { currentImageIndex--; updateLightboxImage(); }
    function nextImage() { currentImageIndex++; updateLightboxImage(); }

    function handleKeyDown(e) {
        if (e.key === 'ArrowLeft') prevImage();
        else if (e.key === 'ArrowRight') nextImage();
        else if (e.key === 'Escape') closeLightbox();
    }

    lightbox.addEventListener("click", function(e) {
        if (e.target === lightbox || e.target.classList.contains('lightbox-content-wrapper')) closeLightbox();
    });

    renderCollection();

    // --- SECURITY ---
    const allowedPaths = [
        '/index.html', '/home.html', '/nanabnb.html', '/newtour.html',
        'hxwfanconcert.html', '/svtholiday.html', '/arenatour.html',
        '/svtjapanconcert.html', '/touragain.html', '/gallery.html',
        '/profile.html', '/soon.html', '/videos.html', '/admin.html', '/collection.html' 
    ];
    
    const isAdminFlag = sessionStorage.getItem('isAdmin') === 'true';
    const currentPagePath = window.location.pathname;
    let hasInternalAccessFlag = sessionStorage.getItem('internalAccess') === 'true';
    const referer = document.referrer;
    const refererPath = referer ? new URL(referer, location.origin).pathname : null;
    
    const cameFromAllowedPageFlag = refererPath && allowedPaths.includes(refererPath);
    if (cameFromAllowedPageFlag || isAdminFlag) { 
        sessionStorage.setItem('internalAccess', 'true'); 
        hasInternalAccessFlag = true; 
    }

    const isIndexPagePath = currentPagePath.endsWith('index.html') || currentPagePath === '/';

    if (!hasInternalAccessFlag && !isIndexPagePath && !isAdminFlag) { 
        showAccessDeniedModal(); 
    }

    function showAccessDeniedModal() {
        const modal = document.createElement('div');
        modal.className = 'access-denied-modal';
        const card = document.createElement('div');
        card.className = 'access-card';
        card.innerHTML = `<div class="access-icon-box"><i class="fas fa-lock"></i></div><div class="access-title">Access Restricted</div><div class="access-desc">You are not authorized to view this page directly. Please log in or return home.</div><button class="access-btn" onclick="window.location.href='index.html'">Return to Safety</button><div style="margin-top:15px; font-size:12px; color:#555;">Redirecting automatically...</div>`;
        modal.appendChild(card);
        document.body.appendChild(modal);
        setTimeout(() => { window.location.href = "index.html"; }, 3000);
    }
</script>

</body>
</html>
